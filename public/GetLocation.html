
<!DOCTYPE html>
<html>

  <head>
    <title>NodeJS Starter Application</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="stylesheets/style.css">
	<script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
	<script>
		$(document).ready(function(){
			$.ajax({
				type: 'POST', // added,
				url: '/login',
				data: {"data": "TEST"},
				success: function (data) {
					console.log(data);
					//var ret = jQuery.parseJSON(data);
					//$('#lblResponse').html(ret.msg);
					$("#LocationData").html(data);
				},
				error: function (xhr, status, error) {
					console.log('Error: ' + error.message);
					$('#lblResponse').html('Error connecting to the server.');
				}
			});

			var AjaxTestSelection = 3;
			if (AjaxTestSelection == 1){
				$.ajax({
					type: 'GET', // added,
					url: '/ajaxget',
					data: {
						functionName: "getStateList"
					},
					success: function (data) {
						console.log(data);
						$("#AjaxGetReturn").html(data);
					},
					error: function (xhr, status, error) {
						console.log('Error: ' + error.message);
					}
				});
			} else if (AjaxTestSelection == 2) {
				$.ajax({
					type: 'GET', 
					url: '/ajaxget',
					data: {
						functionName: "getCountyList",
						abbreviation: 'CA'
					},
					success: function (data) {
						console.log(data);
						$("#AjaxGetReturn").html(data);
					},
					error: function (xhr, status, error) {
						console.log('Error: ' + error.message);
					}
				});
			} else if (AjaxTestSelection == 3) {
				$.ajax({
					type: 'GET', 
					url: '/ajaxget',
					data: {
						functionName: "getWaterDataMongoDB",
						StateAbbr: 'CA',
						County: 'Yolo County'
					},
					success: function (data) {
						console.log(data);
						$("#AjaxGetReturn").html(data);
					},
					error: function (xhr, status, error) {
						alert('Error: ' + error.message);
					}
				});
			} else if (AjaxTestSelection == 4) {
				$.ajax({
					type: 'GET', 
					url: '/ajaxget',
					data: {
						functionName: "getCurrentLocation"
					},
					success: function (data) {
						console.log(data);
						$("#AjaxGetReturn").html(data);
					},
					error: function (xhr, status, error) {
						console.log('Error: ' + error.message);
					}
				});
			}
	
		});
	</script>
  </head>

  <body>
	Hello world.
	<div id="LocationData">
		
	</div>

	<br/><br/>
	<div id="AjaxGetReturn">

	</div>
  </body>

</html>
